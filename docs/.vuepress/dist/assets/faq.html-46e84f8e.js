import{_ as o,X as e,Y as p,Z as s,$ as n,a0 as l,a1 as t,C as r}from"./framework-6ad2459b.js";const c={},i=s("h2",{id:"生成的转换接口与转换类在哪里查看",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#生成的转换接口与转换类在哪里查看","aria-hidden":"true"},"#"),n(" 生成的转换接口与转换类在哪里查看")],-1),B=s("p",null,"在编译后的 target/generated-sources 目录下，如果没有该目录，则需要配置 IDEA 展示排除的文件（Show Excluded Files）",-1),d=s("h2",{id:"cannot-find-converter-from-xxx-to-xxx-没有生成转换接口",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#cannot-find-converter-from-xxx-to-xxx-没有生成转换接口","aria-hidden":"true"},"#"),n(' "cannot find converter from xxx to xxx" / 没有生成转换接口')],-1),y={href:"/introduction/quick-start.html",target:"_blank",rel:"noopener noreferrer"},u={href:"/guide/faq.html",target:"_blank",rel:"noopener noreferrer"},v=s("li",null,"重新加载 Maven 依赖（Reload All Maven Projects）",-1),A=s("li",null,"mvn clean compile",-1),g=s("li",null,"在 /target/generated-sources 目录下，查看是否生成转换接口。",-1),F=s("li",null,"如果没有生成，联系作者",-1),m=s("li",null,"如果已经生成，需要确认 SpringBoot 能否扫描到生成接口所在的包！",-1),b=s("h2",{id:"生成的转换接口及实现类的目录规则",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#生成的转换接口及实现类的目录规则","aria-hidden":"true"},"#"),n(" 生成的转换接口及实现类的目录规则")],-1),h={href:"/guide/configuration.html",target:"_blank",rel:"noopener noreferrer"},C=t(`<blockquote><p>需要注意，如果是外部依赖包，也会生成在外部依赖类所在的同名包下，导致 Spring 扫描不到，这种情况下，建议指定具体的目录。</p></blockquote><h2 id="couldn-t-retrieve-mapper-annotation-异常" tabindex="-1"><a class="header-anchor" href="#couldn-t-retrieve-mapper-annotation-异常" aria-hidden="true">#</a> &quot;Couldn&#39;t retrieve @Mapper annotation&quot; 异常</h2><p>该异常是因为 MapStruct 依赖冲突导致的，由于 MapStructPlus 中已经依赖了 MapStruct，所以在使用时无需再添加 MapStruct 的依赖。 同时，建议其它依赖中的 MapStruct，也建议排除掉，比如 springfox-swagger2 中就依赖了 MapStruct。</p><p>排除完依赖后，重新执行 clean compile</p><h2 id="nosuchmethoderror-io-github-linpeilie-convertmapperadapter-xxxmethod-异常" tabindex="-1"><a class="header-anchor" href="#nosuchmethoderror-io-github-linpeilie-convertmapperadapter-xxxmethod-异常" aria-hidden="true">#</a> &quot;NoSuchMethodError: …… io.github.linpeilie.ConvertMapperAdapter.xxxMethod&quot; 异常</h2><p>当所有转换类都能正常生成，在执行时，抛出 <code>NoSuchMethodError</code> 异常，但看生成的代码中，<code>ConvertMapperAdapter</code> 类中是存在该方法的。</p><p>当出现该异常时，是因为存在多个模块，且模块之间存在依赖关系，每个模块中，都有需要转换的类， 故在生成时，每个模块中，都生成了 <code>io.github.linpeilie.ConvertMapperAdapter</code> 这个类， 由于类加载器在加载类时，同名同包的类，只会加载一个，所以在具体执行的时候，实际上调用的不是我们想要的那个类。故出现 <code>NoSuchMethod</code> 异常。</p><p><strong>解决方案</strong>：为每个模块中添加 MapStructPlus 的配置类，每个模块中指定 <code>adapterPackage</code> 包不同的路径。</p><h2 id="与-lombok-整合" tabindex="-1"><a class="header-anchor" href="#与-lombok-整合" aria-hidden="true">#</a> 与 <code>lombok</code> 整合</h2><p>与 Mapstruct 整合 lombok 的方式一致。</p><h3 id="lombok-1-18-16-之前" tabindex="-1"><a class="header-anchor" href="#lombok-1-18-16-之前" aria-hidden="true">#</a> lombok 1.18.16 之前：</h3><h4 id="maven" tabindex="-1"><a class="header-anchor" href="#maven" aria-hidden="true">#</a> Maven</h4><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">build</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">    &lt;</span><span style="color:#E06C75;">plugins</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">        &lt;</span><span style="color:#E06C75;">plugin</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">            &lt;</span><span style="color:#E06C75;">groupId</span><span style="color:#ABB2BF;">&gt;org.apache.maven.plugins&lt;/</span><span style="color:#E06C75;">groupId</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">            &lt;</span><span style="color:#E06C75;">artifactId</span><span style="color:#ABB2BF;">&gt;maven-compiler-plugin&lt;/</span><span style="color:#E06C75;">artifactId</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">            &lt;</span><span style="color:#E06C75;">version</span><span style="color:#ABB2BF;">&gt;3.8.1&lt;/</span><span style="color:#E06C75;">version</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">            &lt;</span><span style="color:#E06C75;">configuration</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">                &lt;</span><span style="color:#E06C75;">source</span><span style="color:#ABB2BF;">&gt;1.8&lt;/</span><span style="color:#E06C75;">source</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">                &lt;</span><span style="color:#E06C75;">target</span><span style="color:#ABB2BF;">&gt;1.8&lt;/</span><span style="color:#E06C75;">target</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">                &lt;</span><span style="color:#E06C75;">annotationProcessorPaths</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">                    &lt;</span><span style="color:#E06C75;">path</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">                        &lt;</span><span style="color:#E06C75;">groupId</span><span style="color:#ABB2BF;">&gt;org.projectlombok&lt;/</span><span style="color:#E06C75;">groupId</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">                        &lt;</span><span style="color:#E06C75;">artifactId</span><span style="color:#ABB2BF;">&gt;lombok&lt;/</span><span style="color:#E06C75;">artifactId</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">                        &lt;</span><span style="color:#E06C75;">version</span><span style="color:#ABB2BF;">&gt;\${lombok.version}&lt;/</span><span style="color:#E06C75;">version</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">                    &lt;/</span><span style="color:#E06C75;">path</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">                    &lt;</span><span style="color:#E06C75;">path</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">                        &lt;</span><span style="color:#E06C75;">groupId</span><span style="color:#ABB2BF;">&gt;io.github.linpeilie&lt;/</span><span style="color:#E06C75;">groupId</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">                        &lt;</span><span style="color:#E06C75;">artifactId</span><span style="color:#ABB2BF;">&gt;mapstruct-plus-processor&lt;/</span><span style="color:#E06C75;">artifactId</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">                        &lt;</span><span style="color:#E06C75;">version</span><span style="color:#ABB2BF;">&gt;\${mapstruct-plus.version}&lt;/</span><span style="color:#E06C75;">version</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">                    &lt;/</span><span style="color:#E06C75;">path</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">                &lt;/</span><span style="color:#E06C75;">annotationProcessorPaths</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">            &lt;/</span><span style="color:#E06C75;">configuration</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">        &lt;/</span><span style="color:#E06C75;">plugin</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">    &lt;/</span><span style="color:#E06C75;">plugins</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">build</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="gradle" tabindex="-1"><a class="header-anchor" href="#gradle" aria-hidden="true">#</a> Gradle</h4><div class="language-groovy line-numbers-mode" data-ext="groovy"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">dependencies {</span></span>
<span class="line"><span style="color:#ABB2BF;">    annotationProcessor </span><span style="color:#D19A66;">group</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;org.projectlombok&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">name</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;lombok&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">version</span><span style="color:#ABB2BF;">: {lombok.version}</span></span>
<span class="line"><span style="color:#ABB2BF;">    annotationProcessor </span><span style="color:#D19A66;">group</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;io.github.linpeilie&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">name</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;mapstruct-plus-processor&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">version</span><span style="color:#ABB2BF;">: \${mapstruct</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">plus.version}</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="lombok-1-18-16-及以后" tabindex="-1"><a class="header-anchor" href="#lombok-1-18-16-及以后" aria-hidden="true">#</a> lombok 1.18.16 及以后：</h3><h4 id="maven-1" tabindex="-1"><a class="header-anchor" href="#maven-1" aria-hidden="true">#</a> Maven</h4><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="color:#ABB2BF;">&lt;</span><span style="color:#E06C75;">build</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">    &lt;</span><span style="color:#E06C75;">plugins</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">        &lt;</span><span style="color:#E06C75;">plugin</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">            &lt;</span><span style="color:#E06C75;">groupId</span><span style="color:#ABB2BF;">&gt;org.apache.maven.plugins&lt;/</span><span style="color:#E06C75;">groupId</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">            &lt;</span><span style="color:#E06C75;">artifactId</span><span style="color:#ABB2BF;">&gt;maven-compiler-plugin&lt;/</span><span style="color:#E06C75;">artifactId</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">            &lt;</span><span style="color:#E06C75;">version</span><span style="color:#ABB2BF;">&gt;3.8.1&lt;/</span><span style="color:#E06C75;">version</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">            &lt;</span><span style="color:#E06C75;">configuration</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">                &lt;</span><span style="color:#E06C75;">source</span><span style="color:#ABB2BF;">&gt;1.8&lt;/</span><span style="color:#E06C75;">source</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">                &lt;</span><span style="color:#E06C75;">target</span><span style="color:#ABB2BF;">&gt;1.8&lt;/</span><span style="color:#E06C75;">target</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">                &lt;</span><span style="color:#E06C75;">annotationProcessorPaths</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">                    &lt;</span><span style="color:#E06C75;">path</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">                        &lt;</span><span style="color:#E06C75;">groupId</span><span style="color:#ABB2BF;">&gt;org.projectlombok&lt;/</span><span style="color:#E06C75;">groupId</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">                        &lt;</span><span style="color:#E06C75;">artifactId</span><span style="color:#ABB2BF;">&gt;lombok&lt;/</span><span style="color:#E06C75;">artifactId</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">                        &lt;</span><span style="color:#E06C75;">version</span><span style="color:#ABB2BF;">&gt;\${lombok.version}&lt;/</span><span style="color:#E06C75;">version</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">                    &lt;/</span><span style="color:#E06C75;">path</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">                    &lt;</span><span style="color:#E06C75;">path</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">                        &lt;</span><span style="color:#E06C75;">groupId</span><span style="color:#ABB2BF;">&gt;io.github.linpeilie&lt;/</span><span style="color:#E06C75;">groupId</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">                        &lt;</span><span style="color:#E06C75;">artifactId</span><span style="color:#ABB2BF;">&gt;mapstruct-plus-processor&lt;/</span><span style="color:#E06C75;">artifactId</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">                        &lt;</span><span style="color:#E06C75;">version</span><span style="color:#ABB2BF;">&gt;\${mapstruct-plus.version}&lt;/</span><span style="color:#E06C75;">version</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">                    &lt;/</span><span style="color:#E06C75;">path</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">                    &lt;</span><span style="color:#E06C75;">path</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">                        &lt;</span><span style="color:#E06C75;">groupId</span><span style="color:#ABB2BF;">&gt;org.projectlombok&lt;/</span><span style="color:#E06C75;">groupId</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">                        &lt;</span><span style="color:#E06C75;">artifactId</span><span style="color:#ABB2BF;">&gt;lombok-mapstruct-binding&lt;/</span><span style="color:#E06C75;">artifactId</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">                        &lt;</span><span style="color:#E06C75;">version</span><span style="color:#ABB2BF;">&gt;0.2.0&lt;/</span><span style="color:#E06C75;">version</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">                    &lt;/</span><span style="color:#E06C75;">path</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">                &lt;/</span><span style="color:#E06C75;">annotationProcessorPaths</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">            &lt;/</span><span style="color:#E06C75;">configuration</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">        &lt;/</span><span style="color:#E06C75;">plugin</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">    &lt;/</span><span style="color:#E06C75;">plugins</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="color:#ABB2BF;">&lt;/</span><span style="color:#E06C75;">build</span><span style="color:#ABB2BF;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="gradle-1" tabindex="-1"><a class="header-anchor" href="#gradle-1" aria-hidden="true">#</a> Gradle</h4><div class="language-groovy line-numbers-mode" data-ext="groovy"><pre class="shiki one-dark-pro" style="background-color:#282c34;" tabindex="0"><code><span class="line"><span style="color:#ABB2BF;">dependencies {</span></span>
<span class="line"><span style="color:#ABB2BF;">    annotationProcessor </span><span style="color:#D19A66;">group</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;org.projectlombok&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">name</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;lombok&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">version</span><span style="color:#ABB2BF;">: {lombok.version}</span></span>
<span class="line"><span style="color:#ABB2BF;">    annotationProcessor </span><span style="color:#D19A66;">group</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;io.github.linpeilie&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">name</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;mapstruct-plus-processor&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">version</span><span style="color:#ABB2BF;">: \${mapstruct</span><span style="color:#56B6C2;">-</span><span style="color:#ABB2BF;">plus.version}</span></span>
<span class="line"><span style="color:#ABB2BF;">    annotationProcessor </span><span style="color:#D19A66;">group</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;org.projectlombok&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">name</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;lombok-mapstruct-binding&#39;</span><span style="color:#ABB2BF;">, </span><span style="color:#D19A66;">version</span><span style="color:#ABB2BF;">: </span><span style="color:#98C379;">&#39;0.2.0&#39;</span></span>
<span class="line"><span style="color:#ABB2BF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,20);function E(x,f){const a=r("ExternalLinkIcon");return e(),p("div",null,[i,B,d,s("ol",null,[s("li",null,[n("建议按照"),s("a",y,[n("快速开始"),l(a)]),n("重新查看一下自己的依赖和配置是否齐全， 如果项目中使用了 Lombok，则按照"),s("a",u,[n("指南-常见问题#与Lombok整合"),l(a)]),n("来进行配置；")]),v,A,g,F,m]),b,s("p",null,[n("默认情况下，会在生成在源类同包名下，可以通过"),s("a",h,[n("配置"),l(a)]),n("来指定具体的目录。")]),C])}const _=o(c,[["render",E],["__file","faq.html.vue"]]);export{_ as default};
